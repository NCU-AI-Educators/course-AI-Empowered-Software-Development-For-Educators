---
marp: true
theme: default
paginate: true
size: 16:9
math: katex
---

<style>
/* --- å¸ƒå±€è¾…åŠ©æ ·å¼ --- */
.columns {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 1rem;
}
.columns pre code {
  white-space: pre-wrap !important;
  overflow-wrap: break-word !important;
}
/* --- åˆ—è¡¨ç¼©è¿›æ ·å¼ä¿®æ­£ --- */
ul, ol {
  padding-inline-start: 25px; /* å‡å°åˆ—è¡¨çš„å·¦ä¾§ç¼©è¿› */
}
.columns.ratio-4-6 { grid-template-columns: 4fr 6fr; }
.columns.ratio-6-4 { grid-template-columns: 6fr 4fr; }
.columns.ratio-3-7 { grid-template-columns: 3fr 7fr; }
.columns.ratio-7-3 { grid-template-columns: 7fr 3fr; }
.align-top    { display: flex; align-items: flex-start; }
.align-middle { display: flex; align-items: center; }
.align-bottom { display: flex; align-items: flex-end; }
.align-left   { display: flex; justify-content: flex-start; }
.align-center { display: flex; justify-content: center; }
.align-right  { display: flex; justify-content: flex-end; }
.align-top-left     { display: flex; justify-content: flex-start; align-items: flex-start; }
.align-top-center   { display: flex; justify-content: center;  align-items: flex-start; }
.align-top-right    { display: flex; justify-content: flex-end;   align-items: flex-start; }
.align-middle-left  { display: flex; justify-content: flex-start; align-items: center; }
.align-middle-center{ display: flex; justify-content: center;  align-items: center; }
.align-middle-right { display: flex; justify-content: flex-end;   align-items: center; }
.align-bottom-left  { display: flex; justify-content: flex-start; align-items: flex-end; }
.align-bottom-center{ display: flex; justify-content: center;  align-items: flex-end; }
.align-bottom-right { display: flex; justify-content: flex-end;   align-items: flex-end; }
.tip {
  background-color: #f0f8ff;
  border-left: 5px solid #1e90ff;
  padding: 15px;
}
.insight {
  background-color: #eefcff; 
  border-left: 5px solid #17a2b8; 
  padding: 15px; 
}
.key-point {
  background-color: #fffbe6; 
  border-left: 5px solid #ffc107; 
  padding: 15px; 
}
.tip p, .tip li,
.insight p, .insight li,
.key-point p, .key-point li {
  font-size: inherit !important;
}
.styled-div p, 
.styled-div li, 
.styled-div ol, 
.styled-div ul, 
.styled-div blockquote {
  font-size: inherit !important;
}
.styled-div h3 {
  font-size: 1.2em; 
}

</style>

![bg blur:3px brightness:60%](image/module7_lesson2.master/1766159260202.png)

<style scoped>
h1{
  color: #F5F5F5;
  text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);
}
h2 {
  color: #E0E0E0;
  text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.8);
}
.course-title {
  position: absolute;
  top: 60px;
  left: 80px;
  background-color: rgba(0, 0, 0, 0.4);
  color: #fff;
  padding: 8px 15px;
  border-radius: 5px;
  font-size: 22px;
  font-weight: bold;
  letter-spacing: 1px;
  border-left: 5px solid #4CAF50;
}
</style>

<div class="course-title">AIèµ‹èƒ½è½¯ä»¶å¼€å‘</div>

# æ¨¡å—ä¸ƒ: AI åº”ç”¨é»‘å®¢æ¾
## ç¬¬26èŠ‚: AI åä½œä¸æµæ°´çº¿æ€ç»´ (Pipeline)

<div style="position: absolute; bottom: 40px; left: 80px; color: rgba(255, 255, 255, 0.8); font-size: 18px; font-family: sans-serif;">
å—æ˜Œå¤§å­¦è®¡ç®—æœºç³» é»é¹°
</div>

<!--
- **ç±»å‹**: é€å­—ç¨¿
- **å†…å®¹**: |
  (1åˆ†é’Ÿ) å„ä½è€å¸ˆå¥½ï¼æ¬¢è¿å›æ¥ã€‚
  ä¸ŠèŠ‚è¯¾æˆ‘ä»¬æˆåŠŸè®©ç”µè„‘â€œçœ‹æ‡‚â€äº†å›¾ç‰‡ï¼Œä½†å¤§å®¶å¯èƒ½å‘ç°äº†ä¸€ä¸ªå°é—æ†¾ï¼š
  Florence-2 æ˜¯ä¸ªâ€œå¤–å›½äººâ€ï¼Œå®ƒç”Ÿæˆçš„æè¿°å…¨æ˜¯è‹±æ–‡ã€‚
  å¦‚æœæˆ‘ä»¬æƒ³åšä¸€ä¸ªç»™ä¸­å›½å­¦ç”Ÿç”¨çš„è¯†å›¾å·¥å…·ï¼Œç”šè‡³æƒ³è®©å®ƒç”¨ä¸­æ–‡æœ—è¯»å‡ºæ¥ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ
  æ˜¯é‡æ–°è®­ç»ƒä¸€ä¸ªæ‡‚ä¸­æ–‡çš„æ¨¡å‹å—ï¼Ÿå¤ªéš¾äº†ã€‚
  è¿™èŠ‚è¯¾ï¼Œæˆ‘ä»¬è¦å­¦ä¹ ä¸€ç§æ›´èªæ˜çš„åšæ³•â€”â€”**Pipelineï¼ˆæµæ°´çº¿ï¼‰æ€ç»´**ã€‚
  æ—¢ç„¶å®ƒåªä¼šè¯´è‹±æ–‡ï¼Œé‚£æˆ‘ä»¬å°±ç»™å®ƒé…ä¸€ä¸ªç¿»è¯‘å®˜ï¼Œå†é…ä¸€ä¸ªæ’­éŸ³å‘˜ã€‚
-->

<!--
- **ç±»å‹**: æ•™å­¦è®¾è®¡
- **å†…å®¹**: |
  ### æ•™å­¦æ—¶é—´: 1åˆ†é’Ÿ
  ### ç¯èŠ‚: å¯¼å…¥ (Introduction)
  **é—®é¢˜å¯¼å‘**: ä»ä¸ŠèŠ‚è¯¾é—ç•™çš„ç—›ç‚¹ï¼ˆè‹±æ–‡è¾“å‡ºï¼‰åˆ‡å…¥ï¼Œè‡ªç„¶å¼•å‡ºæœ¬èŠ‚è¯¾çš„ä¸»é¢˜ï¼ˆå¤šæ¨¡å‹åä½œï¼‰ã€‚
-->

<!--
- **ç±»å‹**: è§£é‡Š
- **å†…å®¹**: |
  ### ä»€ä¹ˆæ˜¯ Pipeline (æµæ°´çº¿)?
  åœ¨è½¯ä»¶å·¥ç¨‹ä¸­ï¼ŒPipeline æŒ‡çš„æ˜¯å°†å¤šä¸ªå¤„ç†æ­¥éª¤ä¸²è”èµ·æ¥ï¼Œå‰ä¸€ä¸ªæ­¥éª¤çš„è¾“å‡ºä½œä¸ºåä¸€ä¸ªæ­¥éª¤çš„è¾“å…¥ã€‚
  å°±åƒå·¥å‚æµæ°´çº¿ï¼š
  1.  **åŸææ–™**: å›¾ç‰‡
  2.  **ç¬¬ä¸€ç«™ (Florence-2)**: å˜æˆè‹±æ–‡æè¿°
  3.  **ç¬¬äºŒç«™ (DeepSeek)**: å˜æˆä¸­æ–‡ç¿»è¯‘
  4.  **ç¬¬ä¸‰ç«™ (TTS)**: å˜æˆè¯­éŸ³
  è¿™ç§æ€ç»´æ–¹å¼èƒ½è®©æˆ‘ä»¬ç»„åˆç°æœ‰å·¥å…·ï¼Œæ„å»ºå‡ºå¤æ‚çš„åº”ç”¨ã€‚
-->

---

## **æœ¬èŠ‚ç›®æ ‡: æ­å»ºä½ çš„ç¬¬ä¸€æ¡ AI æµæ°´çº¿**

<div class="columns">
<div>

1.  **Pipeline æ€ç»´**: ç†è§£å¦‚ä½•åƒæ­ç§¯æœ¨ä¸€æ ·ä¸²è”å¤šä¸ª AI æ¨¡å‹ã€‚
2.  **ä½“éªŒ Translation API**: å­¦ä¹ å¦‚ä½•è°ƒç”¨æ“…é•¿æ–‡æœ¬å¤„ç†çš„ LLM (å¦‚ DeepSeek/GPT)ã€‚
3.  **åŠ¨æ‰‹å®è·µ**: ç¼–å†™ `lesson26_ai_vision_translator.py`ï¼Œå®ç°â€œçœ‹å›¾ -> è‹±æ–‡ -> ä¸­æ–‡ -> è¯­éŸ³â€çš„å…¨è‡ªåŠ¨æµç¨‹ã€‚

</div>
<div>

![1766160140340](image/module7_lesson2.master/1766160140340.png)
</div>
</div>

<!--
- **ç±»å‹**: é€å­—ç¨¿
- **å†…å®¹**: |
  (1åˆ†é’Ÿ) è¿™èŠ‚è¯¾çš„ç›®æ ‡éå¸¸æ˜ç¡®ï¼šæˆ‘ä»¬è¦æŠŠå‡ ä¸ªç‹¬ç«‹çš„ AI æ¨¡å‹ä¸²èµ·æ¥ã€‚
  å°±åƒæ­ç§¯æœ¨ä¸€æ ·ã€‚
  ç¬¬ä¸€å—ç§¯æœ¨æ˜¯â€œçœ¼ç›â€ï¼ˆFlorence-2ï¼‰ï¼Œè´Ÿè´£çœ‹ã€‚
  ç¬¬äºŒå—ç§¯æœ¨æ˜¯â€œå¤§è„‘â€ï¼ˆDeepSeekï¼‰ï¼Œè´Ÿè´£ç¿»è¯‘å’Œæ¶¦è‰²ã€‚
  æˆ‘ä»¬ç”šè‡³å¯ä»¥åŠ ç¬¬ä¸‰å—ç§¯æœ¨â€”â€”â€œå˜´å·´â€ï¼ˆCosyVoiceï¼‰ï¼Œè´Ÿè´£è¯»å‡ºæ¥ã€‚
  ä½œä¸ºå¼€å‘è€…ï¼Œä½ çš„å·¥ä½œä¸æ˜¯å»é€ ç§¯æœ¨ï¼Œè€Œæ˜¯è®¾è®¡è¿™æ¡æµæ°´çº¿ï¼Œè®©å®ƒä»¬é…åˆå¥½ã€‚
-->

<!--
- **ç±»å‹**: æ•™å­¦è®¾è®¡
- **å†…å®¹**: |
  ### æ•™å­¦æ—¶é—´: 1åˆ†é’Ÿ
  ### ç¯èŠ‚: ç›®æ ‡è®¾å®š (Objective)
  **ç§¯æœ¨éšå–»**: ç”¨â€œæ­ç§¯æœ¨â€çš„æ¯”å–»é™ä½æŠ€æœ¯é—¨æ§›ï¼Œå¼ºè°ƒ**é›†æˆ (Integration)** è€Œé**åˆ›é€  (Creation)**ã€‚
-->

<!--
- **ç±»å‹**: è§£é‡Š
- **å†…å®¹**: |
  ### é›†æˆ (Integration) vs åˆ›é€  (Creation)
  åœ¨ç°ä»£è½¯ä»¶å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¾ˆå°‘ä»é›¶å¼€å§‹å†™ç®—æ³•ï¼ˆé€ è½®å­ï¼‰ã€‚
  æ›´å¤šæ—¶å€™ï¼Œæˆ‘ä»¬æ˜¯åœ¨åš**é›†æˆ**ï¼šæŠŠåˆ«äººå†™å¥½çš„ã€é¡¶å°–çš„è½®å­ï¼ˆæ¨¡å‹/APIï¼‰ç»„è£…æˆä¸€è¾†è½¦ã€‚
  è¿™ç§èƒ½åŠ›è¢«ç§°ä¸ºâ€œé›†æˆèƒ½åŠ›â€ï¼Œå®ƒæ˜¯ AI æ—¶ä»£å¼€å‘è€…æœ€é‡è¦çš„æ ¸å¿ƒç«äº‰åŠ›ã€‚
-->

---

## **1. ç—›ç‚¹åˆ†æ: å•ä½“æ¨¡å‹çš„å±€é™**
### **Florence-2 çš„é•¿æ¿ä¸çŸ­æ¿**
<div class="columns ratio-6-4" style="font-size:0.9em">
<div>

*   âœ… **é•¿æ¿**: è§†è§‰ç†è§£èƒ½åŠ›æå¼º (SOTAçº§åˆ«)ï¼Œä¸”èƒ½æœ¬åœ°è¿è¡Œï¼Œé€Ÿåº¦å¿«ã€‚
*   âŒ **çŸ­æ¿ 1**: ä¸­æ–‡æ”¯æŒè¾ƒå¼±ï¼Œç”Ÿæˆçš„æè¿°ä¸»è¦æ˜¯è‹±æ–‡ã€‚
*   âŒ **çŸ­æ¿ 2**: **æ²¡æœ‰â€œå˜´å·´â€**ã€‚å®ƒåªèƒ½è¾“å‡ºæ–‡å­—ï¼Œæ— æ³•ç›´æ¥ç”Ÿæˆè¯­éŸ³ï¼ˆTTSï¼‰ã€‚

<div class="tip">

**ä¸è¦è¯•å›¾è®©ä¸€ä¸ª AI åšæ‰€æœ‰äº‹**
å°±åƒæˆ‘ä»¬ä¸è¦æ±‚è¯­æ–‡è€å¸ˆä¹Ÿä¼šä¿®ç”µè„‘ä¸€æ ·ã€‚
ä¸“ä¸šçš„ AI åšä¸“ä¸šçš„äº‹ï¼Œç„¶åé€šè¿‡ **Python** æŠŠå®ƒä»¬ç²˜åˆèµ·æ¥ã€‚

</div>
</div>
<div>

![1766162289812](image/module7_lesson2.master/1766162289812.png)

</div>
</div>

<!--
- **ç±»å‹**: æ ·å¼æ›¿æ¢
- **ç‰ˆæœ¬**: [handout, teacher]
- **æŸ¥æ‰¾**: |
    <div class="tip">
- **æ›¿æ¢**: |
    <div class="tip" style="font-size: 0.6em;">
-->

<!--
- **ç±»å‹**: é€å­—ç¨¿
- **å†…å®¹**: |
  (2åˆ†é’Ÿ) æˆ‘ä»¬å…ˆæ¥åˆ†æä¸€ä¸‹ä¸ºä»€ä¹ˆè¦è¿™ä¹ˆåšã€‚
  Florence-2 è™½ç„¶çœ‹å›¾å¾ˆå‡†ï¼Œä½†å®ƒæœ‰ä¸¤ä¸ªè‡´å‘½çš„çŸ­æ¿ï¼š
  ç¬¬ä¸€ï¼Œå®ƒæ˜¯å¾®è½¯åœ¨è‹±æ–‡æ•°æ®é›†ä¸Šè®­ç»ƒçš„ï¼Œä¸­æ–‡èƒ½åŠ›å¾ˆå¼±ã€‚
  ç¬¬äºŒï¼Œå®ƒåªæœ‰â€œçœ¼ç›â€å’Œâ€œæ‰‹â€ï¼Œæ²¡æœ‰â€œå˜´å·´â€ã€‚å®ƒå†™å‡ºçš„æè¿°åªèƒ½çœ‹ï¼Œä¸èƒ½å¬ã€‚
  å¦‚æœæˆ‘ä»¬éè¦å¼ºè¿«ä¸€ä¸ªè§†è§‰æ¨¡å‹å»ç»ƒå£è¯­æˆ–è€…è¯´ä¸­æ–‡ï¼Œæ•ˆæœä¼šéå¸¸å·®ã€‚
  è¿™å°±åƒå­¦æ ¡é‡Œï¼Œä½ ä¸èƒ½è¦æ±‚ä½“è‚²è€å¸ˆæ•™æ•°å­¦ã€‚
  æ­£ç¡®çš„åšæ³•æ˜¯ï¼š**ä¸“ä¸šçš„äººåšä¸“ä¸šçš„äº‹**ã€‚
  çœ‹å›¾äº¤ç»™ Florence-2ï¼Œç¿»è¯‘äº¤ç»™ DeepSeekï¼Œè¯´è¯äº¤ç»™ CosyVoiceã€‚
  è¿™å°±æ˜¯è½¯ä»¶æ¶æ„ä¸­çš„**â€œå…³æ³¨ç‚¹åˆ†ç¦»â€ (Separation of Concerns)**ã€‚
-->

<!--
- **ç±»å‹**: æ•™å­¦è®¾è®¡
- **å†…å®¹**: |
  ### æ•™å­¦æ—¶é—´: 2åˆ†é’Ÿ
  ### ç¯èŠ‚: åŸç† (Principle)
  **æ¶æ„æ€ç»´**: å¼•å…¥â€œå…³æ³¨ç‚¹åˆ†ç¦»â€åŸåˆ™ã€‚
  çº æ­£å­¦å‘˜â€œæ‰¾ä¸€ä¸ªå…¨èƒ½å¤§æ¨¡å‹è§£å†³æ‰€æœ‰é—®é¢˜â€çš„è¯¯åŒºï¼ŒåŸ¹å…»å·¥ç¨‹åŒ–æ€ç»´ã€‚
-->

<!--
- **ç±»å‹**: è§£é‡Š
- **å†…å®¹**: |
  ### ä¸ºä»€ä¹ˆè¦ç»„åˆæ¨¡å‹ï¼Ÿ
  ç°åœ¨çš„ AI å‘å±•è¶‹åŠ¿æ˜¯**MoE (Mixture of Experts)**ï¼Œå³ä¸“å®¶æ··åˆã€‚
  è™½ç„¶ GPT-5 è¿™æ ·çš„æ¨¡å‹å¾ˆå…¨èƒ½ï¼Œä½†å®ƒå¾ˆè´µä¸”æ…¢ã€‚
  åœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬æ›´å€¾å‘äºç”¨å°è€Œç²¾çš„æ¨¡å‹ç»„åˆï¼š
  - ä¸€ä¸ªå°æ¨¡å‹ä¸“é—¨çœ‹å›¾ï¼ˆå¿«ã€ä¾¿å®œï¼‰ã€‚
  - ä¸€ä¸ªå°æ¨¡å‹ä¸“é—¨ç¿»è¯‘ï¼ˆå‡†ã€ä¾¿å®œï¼‰ã€‚
  ç»„åˆèµ·æ¥çš„æ•ˆæœå¾€å¾€æ¯”ä¸€ä¸ªè¶…å¤§æ¨¡å‹æ›´å¥½ï¼Œè€Œä¸”æˆæœ¬æ›´ä½ã€‚
-->

---

## **2. è§£å†³æ–¹æ¡ˆ: æ¥åŠ›èµ› (Relay)**

<div class="align-center">

![width:850px](image/module7_lesson2.master/1766159918734.png)
</div>

*   **ç¬¬ä¸€æ£’ (Vision)**: Florence-2ï¼Œè´Ÿè´£â€œçœ‹â€ã€‚
*   **ç¬¬äºŒæ£’ (Language)**: Translation Model (å¦‚ DeepSeek)ï¼Œè´Ÿè´£â€œç¿»è¯‘â€å’Œâ€œæ¶¦è‰²â€ã€‚
*   **ç¬¬ä¸‰æ£’ (Voice)**: TTS Model (å¦‚ CosyVoice)ï¼Œè´Ÿè´£â€œè¯´è¯â€ã€‚

<!--
- **ç±»å‹**: é€å­—ç¨¿
- **å†…å®¹**: |
  (1åˆ†é’Ÿ) è¿™å¼ å›¾å±•ç¤ºäº†æˆ‘ä»¬çš„æ–¹æ¡ˆï¼šä¸€åœºæ¥åŠ›èµ›ã€‚
  ç¬¬ä¸€æ£’ Florence-2 æ‹¿åˆ°å›¾ç‰‡ï¼Œè·‘å‡ºä¸€æ®µè‹±æ–‡æè¿°ã€‚
  ç„¶åå®ƒæŠŠæ¥åŠ›æ£’ï¼ˆè‹±æ–‡æ–‡æœ¬ï¼‰ä¼ ç»™ç¬¬äºŒæ£’ DeepSeekï¼ŒDeepSeek æŠŠå®ƒåŠ å·¥æˆä¼˜ç¾çš„ä¸­æ–‡ã€‚
  æœ€åï¼Œç¬¬ä¸‰æ£’ CosyVoice æ¥è¿‡ä¸­æ–‡æ–‡æœ¬ï¼ŒæŠŠå®ƒå˜æˆæ‚¦è€³çš„è¯­éŸ³è¯»å‡ºæ¥ã€‚
  æˆ‘ä»¬çš„ Python ä»£ç ï¼Œå°±æ˜¯é‚£ä¸ªè´Ÿè´£ä¼ é€’æ¥åŠ›æ£’çš„è¿åŠ¨å‘˜ã€‚
-->

<!--
- **ç±»å‹**: æ•™å­¦è®¾è®¡
- **å†…å®¹**: |
  ### æ•™å­¦æ—¶é—´: 1åˆ†é’Ÿ
  ### ç¯èŠ‚: å¯è§†åŒ– (Visualization)
  **æµç¨‹å›¾**: ç”¨ç®€å•çš„æµç¨‹å›¾å±•ç¤ºæ•°æ®æµå‘ã€‚
  å¼ºè°ƒ**æ•°æ®æ¥å£**: å‰ä¸€ä¸ªè¾“å‡º = åä¸€ä¸ªè¾“å…¥ã€‚
-->

<!--
- **ç±»å‹**: è§£é‡Š
- **å†…å®¹**: |
  ### æ•°æ®æµ (Data Flow)
  åœ¨ Pipeline ä¸­ï¼Œæ•°æ®å°±åƒæ°´ç®¡é‡Œçš„æ°´ã€‚
  - Florence-2 çš„**è¾“å‡º**ï¼ˆè‹±æ–‡æ–‡æœ¬ï¼‰ï¼Œå¿…é¡»å˜æˆ DeepSeek çš„**è¾“å…¥**ã€‚
  - DeepSeek çš„**è¾“å‡º**ï¼ˆä¸­æ–‡æ–‡æœ¬ï¼‰ï¼Œåˆæ˜¯ CosyVoice çš„**è¾“å…¥**ã€‚
  ç¡®ä¿è¿™äº›â€œæ¥å£â€å¯¹æ¥ä¸¥ä¸åˆç¼ï¼ˆæ ¼å¼æ­£ç¡®ï¼‰ï¼Œæ˜¯ Pipeline èƒ½è·‘é€šçš„å…³é”®ã€‚
-->

---

## **3. éªŒè¯ç¬¬äºŒæ£’çš„å¯è¡Œæ€§**
### **Prompt Strategy (Translation Task)**
<div class="columns" style="font-size:0.8em">
<div>

æŠŠä½ çš„éœ€æ±‚æè¿°ç»™ DeepSeek/ChatGPTï¼š
> "è¯·å¸®æˆ‘å†™ä¸€ä¸ª Python è„šæœ¬ï¼Œè°ƒç”¨ SiliconFlow çš„ API è¿›è¡Œæ–‡æœ¬ç¿»è¯‘ã€‚
> **è¦æ±‚**:
> 1. ä½¿ç”¨ `openai` å®˜æ–¹ SDK (ä¸è¦ç”¨ requests)ã€‚
> 2. Base URL è®¾ç½®ä¸º `https://api.siliconflow.cn/v1`ã€‚
> 3. æ¨¡å‹ä½¿ç”¨ `deepseek-ai/DeepSeek-V3.2`ã€‚
> 4. å°è£…ä¸€ä¸ªå‡½æ•° `translate(text)`ï¼Œè¾“å…¥è‹±æ–‡ï¼Œè¿”å›ä¸­æ–‡ã€‚
> 5. **æ³¨æ„**: API Key è¯·ä»ç¯å¢ƒå˜é‡è¯»å–ï¼Œä¸è¦ç¡¬ç¼–ç ã€‚"

</div>
<div>

<div class="tip">

**Tips for Prompting**:
*   **æ˜ç¡® SDK**: æŒ‡å®š `openai` SDK å¯ä»¥é¿å… AI ç”Ÿæˆ `requests` è¿™ç§åº•å±‚çš„ HTTP è¯·æ±‚ä»£ç ã€‚
*   **æŒ‡å®šå‚å•†å‚æ•°**: ä¸åŒçš„æ¨¡å‹æœåŠ¡å•† (SiliconFlow, DeepSeek, Moonshot) åªæœ‰ Base URL å’Œ Model Name ä¸åŒï¼Œä»£ç é€»è¾‘æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚
*   **å®‰å…¨æ„è¯†**: å§‹ç»ˆå‘Šè¯‰ AI "ä»ç¯å¢ƒå˜é‡è¯»å– Key"ï¼Œå…»æˆå¥½ä¹ æƒ¯ã€‚

</div>

</div>
</div>

<!--
- **ç±»å‹**: æ ·å¼æ›¿æ¢
- **ç‰ˆæœ¬**: [handout, teacher]
- **æŸ¥æ‰¾**: |
    <div>
- **æ›¿æ¢**: |
    <div class="styled-div" style="font-size: 0.6em;">
-->

<!--
- **ç±»å‹**: æ ·å¼æ›¿æ¢
- **ç‰ˆæœ¬**: [handout, teacher]
- **æŸ¥æ‰¾**: |
    <div class="tip">
- **æ›¿æ¢**: |
    <div class="tip" style="font-size: 0.6em;">
-->

<!--
- **ç±»å‹**: é€å­—ç¨¿
- **å†…å®¹**: |
  (2åˆ†é’Ÿ) æˆ‘ä»¬å…ˆå•ç‹¬æµ‹è¯•ç¬¬äºŒæ£’ã€‚
  æˆ‘ä»¬è¦å†™ä¸€ä¸ª Python è„šæœ¬æ¥è°ƒç”¨ DeepSeek è¿›è¡Œç¿»è¯‘ã€‚
  æ³¨æ„çœ‹è¿™ä¸ª Promptï¼Œæˆ‘æœ‰å‡ ä¸ªç‰¹æ®Šè¦æ±‚ï¼š
  ç¬¬ä¸€ï¼Œç”¨ `openai` å®˜æ–¹åº“ã€‚è™½ç„¶æˆ‘ä»¬è°ƒç”¨çš„ä¸æ˜¯ OpenAI çš„æ¨¡å‹ï¼Œä½†è¿™ä¸ªåº“æ˜¯é€šç”¨çš„ï¼Œå­¦ä¼šäº†å®ƒï¼Œä½ å°±èƒ½è°ƒç”¨å‡ ä¹æ‰€æœ‰çš„å¤§æ¨¡å‹ã€‚
  ç¬¬äºŒï¼Œ**API Key ä¸è¦å†™æ­»åœ¨ä»£ç é‡Œ**ã€‚è¿™å¾ˆé‡è¦ï¼Œä¸‡ä¸€ä½ æŠŠä»£ç å‘ç»™åˆ«äººï¼ŒKey å°±æ³„éœ²äº†ã€‚æˆ‘ä»¬è¦ä»ç¯å¢ƒå˜é‡é‡Œè¯»å–ã€‚
-->

<!--
- **ç±»å‹**: æ•™å­¦è®¾è®¡
- **å†…å®¹**: |
  ### æ•™å­¦æ—¶é—´: 2åˆ†é’Ÿ
  ### ç¯èŠ‚: æç¤ºè¯å·¥ç¨‹ (Prompt Engineering)
  **å®‰å…¨æ•™è‚²**: å¼ºè°ƒ API Key çš„ç®¡ç†å®‰å…¨ï¼ˆç¯å¢ƒå˜é‡ï¼‰ã€‚
  **æ ‡å‡†åŒ–**: æ¨èä½¿ç”¨ OpenAI SDK ä½œä¸ºé€šç”¨æ¥å£æ ‡å‡†ã€‚
-->

<!--
- **ç±»å‹**: è§£é‡Š
- **å†…å®¹**: |
  ### SDK vs API
  - **API (æ¥å£)**: æ˜¯æœåŠ¡å‘˜ã€‚ä½ å¯¹ä»–å–Šè¯ï¼ˆå‘é€ HTTP è¯·æ±‚ï¼‰ã€‚
  - **SDK (å·¥å…·åŒ…)**: æ˜¯ä½ çš„ç§äººåŠ©ç†ã€‚ä»–å¸®ä½ å»å–ŠæœåŠ¡å‘˜ã€‚
  ç›´æ¥ç”¨ `requests` åº“è°ƒç”¨ API æ¯”è¾ƒéº»çƒ¦ï¼ˆè¦è‡ªå·±å¤„ç†æ ¼å¼ã€é”™è¯¯ï¼‰ã€‚
  ä½¿ç”¨å®˜æ–¹æä¾›çš„ SDKï¼ˆè¿™é‡Œæ˜¯ `openai` åº“ï¼‰ï¼Œå°±åƒæœ‰äº†ç§äººåŠ©ç†ï¼Œä½ åªç®¡ä¸‹å‘½ä»¤ï¼Œè„æ´»ç´¯æ´»ä»–éƒ½åŒ…äº†ã€‚
-->

---

## **4. ä»£ç è§£æ: OpenAI SDK (é€šç”¨è¯­)**

ä¸ºäº†è°ƒç”¨ç¬¬äºŒæ£’çš„ç¿»è¯‘èƒ½åŠ›ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸€å¥—æ ‡å‡†æ¥å£ã€‚

<div class="columns">
<div>

```python
from openai import OpenAI
import os

# SiliconFlow (ç¡…åŸºæµåŠ¨) é…ç½®
# æœ€ä½³å®è·µ: ä»ç¯å¢ƒå˜é‡è¯»å– Keyï¼Œä¸ç›´æ¥å†™åœ¨ä»£ç é‡Œ
client = OpenAI(
    api_key=os.getenv("SILICONFLOW_API_KEY"), 
    base_url="https://api.siliconflow.cn/v1"
)

def translate(text):
    response = client.chat.completions.create(
        model="deepseek-ai/DeepSeek-V3.2", # é€‰æ‹©äº†ä¾¿å®œåˆå¼ºå¤§çš„æ¨¡å‹
        messages=[
            {"role": "user", "content": f"ç¿»è¯‘æˆä¸­æ–‡: {text}"}
        ]
    )
    return response.choices[0].message.content
```

</div>
<div>

<div class="insight">

**ä¸ºä»€ä¹ˆæ˜¯ OpenAI SDK?**
è™½ç„¶æˆ‘ä»¬ç”¨çš„æ˜¯ DeepSeek æˆ–å…¶ä»–å›½äº§æ¨¡å‹ï¼Œä½† `openai` Python åº“å·²ç»æˆä¸ºä¸šç•Œæ ‡å‡†ã€‚
**å­¦ä¼šè¿™ä¸€ä¸ªåº“ï¼Œä½ å°±èƒ½è°ƒç”¨ä¸–ç•Œä¸Š 99% çš„å¤§æ¨¡å‹ã€‚**

</div>

</div>
</div>

<!--
- **ç±»å‹**: æ ·å¼æ›¿æ¢
- **ç‰ˆæœ¬**: [handout, teacher]
- **æŸ¥æ‰¾**: |
    <div class="insight">
- **æ›¿æ¢**: |
    <div class="insight" style="font-size: 0.6em;">
-->

<!--
- **ç±»å‹**: é€å­—ç¨¿
- **å†…å®¹**: |
  (3åˆ†é’Ÿ) è¿™æ®µä»£ç æ˜¯æ‰€æœ‰å¤§æ¨¡å‹å¼€å‘çš„é€šç”¨æ¨¡æ¿ã€‚è¯·å¤§å®¶æŠŠå®ƒåˆ»åœ¨è„‘å­é‡Œï¼Œæˆ–è€…æ”¶è—èµ·æ¥ã€‚
  1.  `client = OpenAI(...)`: å»ºç«‹è¿æ¥ã€‚è¿™é‡Œæˆ‘ä»¬è¿çš„æ˜¯ SiliconFlow çš„æœåŠ¡å™¨ï¼Œè€Œä¸æ˜¯ç¾å›½çš„ OpenAIã€‚
  2.  `chat.completions.create(...)`: å‘é€ä»»åŠ¡ã€‚
      - `model`: å‘Šè¯‰å®ƒä½ è¦ç‚¹å“ªä¸ªâ€œå¨å¸ˆâ€ï¼ˆè¿™é‡Œæ˜¯ DeepSeek-V3.2ï¼‰ã€‚
      - `messages`: ä½ çš„æŒ‡ä»¤ã€‚`role: user` ä»£è¡¨ä½ ï¼Œ`content` æ˜¯ä½ è¦è¯´çš„è¯ã€‚
  åªè¦æ›¿æ¢ `base_url` å’Œ `model`ï¼Œè¿™æ®µä»£ç å¯ä»¥ç”¨æ¥è°ƒç”¨ Kimi, æ™ºè°±, é˜¿é‡Œé€šä¹‰åƒé—®ç­‰ä»»ä½•æ¨¡å‹ã€‚
-->

<!--
- **ç±»å‹**: æ•™å­¦è®¾è®¡
- **å†…å®¹**: |
  ### æ•™å­¦æ—¶é—´: 3åˆ†é’Ÿ
  ### ç¯èŠ‚: ä»£ç ç²¾è®² (Code Deep Dive)
  **è¿ç§»å­¦ä¹ **: å¼ºè°ƒè¿™å¥—ä»£ç çš„é€šç”¨æ€§ã€‚è®©å­¦å‘˜æ˜ç™½ä»–ä»¬å­¦åˆ°çš„ä¸æ˜¯ä¸€ä¸ªç‰¹å®šå‚å•†çš„å·¥å…·ï¼Œè€Œæ˜¯ä¸€å¥—é€šç”¨æ ‡å‡†ã€‚
-->

<!--
- **ç±»å‹**: è§£é‡Š
- **å†…å®¹**: |
  ### ä»€ä¹ˆæ˜¯ OpenAI å…¼å®¹æ¥å£?
  OpenAI æ˜¯ AI ç•Œçš„é¢†å¤´ç¾Šï¼Œå®ƒçš„æ¥å£æ ¼å¼å®šä¹‰å¾—éå¸¸å¥½ã€‚
  åæ¥æ‰€æœ‰çš„ AI å…¬å¸ï¼ˆåŒ…æ‹¬å›½å†…çš„ DeepSeek, é˜¿é‡Œç­‰ï¼‰ä¸ºäº†æ–¹ä¾¿å¼€å‘è€…è¿ç§»ï¼Œéƒ½ä¸»åŠ¨å…¼å®¹äº†è¿™ä¸ªæ ¼å¼ã€‚
  è¿™å°±åƒ USB æ¥å£ä¸€æ ·ï¼Œä¸ç®¡æ˜¯å“ªä¸ªç‰Œå­çš„é¼ æ ‡ï¼Œåªè¦æ˜¯ USB æ¥å£æ’ä¸Šå°±èƒ½ç”¨ã€‚
-->

---

## **5. è¿è¡Œæµ‹è¯•: ä½ çš„ç¬¬ä¸€ä¸ªäº‘ç«¯è°ƒç”¨**

åœ¨å¼€å§‹å¤æ‚çš„ Pipeline ä¹‹å‰ï¼Œå…ˆç¡®ä¿æˆ‘ä»¬çš„â€œç¿»è¯‘å®˜â€èƒ½æ­£å¸¸å·¥ä½œã€‚

<div class="columns">
<div>

### **Terminal (æ‰§è¡Œ)**
```bash
# 1. ç¡®ä¿å·²è®¾ç½® Key (Mac/Linux)
export SILICONFLOW_API_KEY="sk-..."

# Windows PowerShell:
# $env:SILICONFLOW_API_KEY="sk-..."

# 2. è¿è¡Œè„šæœ¬
python lesson26_cloud_api.py
```

</div>
<div>

### **Output (é¢„æœŸç»“æœ)**
```text
å½“å‰ä½¿ç”¨çš„æ¨¡å‹: deepseek-ai/DeepSeek-V3.2
------------------------------
ğŸ”¤ åŸæ–‡: Artificial Intelligence is the new electricity.
â˜ï¸ æ­£åœ¨è¯·æ±‚ SiliconFlow ç¿»è¯‘...
ğŸ‡¨ğŸ‡³ è¯‘æ–‡: äººå·¥æ™ºèƒ½æ˜¯æ–°æ—¶ä»£çš„ç”µåŠ›ã€‚
------------------------------
```

<div class="insight" style="font-size:0.8em">

**Success!** 
çœ‹åˆ°è¿™è¡Œä¸­æ–‡ï¼Œè¯´æ˜ä½ çš„ Python ä»£ç å·²ç»æˆåŠŸè¿æ¥åˆ°äº†äº‘ç«¯çš„ DeepSeek å¤§è„‘ã€‚
æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åªéœ€è¦æŠŠè¿™ä¸ª `translate()` å‡½æ•°ï¼Œæ‹¼æ¥åˆ° Florence-2 çš„åé¢å³å¯ã€‚

</div>

</div>
</div>

<!--
- **ç±»å‹**: æ ·å¼æ›¿æ¢
- **ç‰ˆæœ¬**: [handout, teacher]
- **æŸ¥æ‰¾**: |
    <div class="insight" style="font-size:0.8em">
- **æ›¿æ¢**: |
    <div class="insight" style="font-size: 0.6em;">
-->

<!--
- **ç±»å‹**: é€å­—ç¨¿
- **å†…å®¹**: |
  (2åˆ†é’Ÿ) ç°åœ¨åŠ¨æ‰‹è¯•ä¸€ä¸‹ã€‚
  é¦–å…ˆåœ¨ç»ˆç«¯è®¾ç½®å¥½ç¯å¢ƒå˜é‡ï¼ˆæ ¹æ®ä½ çš„æ“ä½œç³»ç»Ÿé€‰æ‹©å‘½ä»¤ï¼‰ã€‚
  ç„¶åè¿è¡Œè„šæœ¬ã€‚
  å¦‚æœä½ çœ‹åˆ°äº†ä¸­æ–‡è¾“å‡ºï¼Œæ­å–œä½ ï¼ä½ å·²ç»æ‰“é€šäº†äº‘ç«¯å¤§è„‘çš„è¿æ¥ã€‚
  ç°åœ¨æˆ‘ä»¬æ‰‹é‡Œæœ‰ä¸¤å—ç§¯æœ¨äº†ï¼š
  ç§¯æœ¨Aï¼šçœ‹å›¾ï¼ˆLesson 25 ä»£ç ï¼‰ã€‚
  ç§¯æœ¨Bï¼šç¿»è¯‘ï¼ˆç°åœ¨çš„ä»£ç ï¼‰ã€‚
  ä¸‹ä¸€æ­¥ï¼Œæ‹¼èµ·æ¥ï¼
-->

<!--
- **ç±»å‹**: æ•™å­¦è®¾è®¡
- **å†…å®¹**: |
  ### æ•™å­¦æ—¶é—´: 2åˆ†é’Ÿ
  ### ç¯èŠ‚: å•å…ƒæµ‹è¯• (Unit Test)
  **å·¥ç¨‹ä¹ æƒ¯**: åœ¨é›†æˆä¹‹å‰ï¼Œå…ˆå•ç‹¬æµ‹è¯•æ¨¡å—ã€‚è¿™æ˜¯é¿å…åæœŸ Debug å›°éš¾çš„é‡è¦ä¹ æƒ¯ã€‚
  **æ’é”™**: é¢„åˆ¤ API Key è®¾ç½®é—®é¢˜ï¼Œæä¾›ä¸åŒç³»ç»Ÿçš„å‘½ä»¤ã€‚
-->

<!--
- **ç±»å‹**: è§£é‡Š
- **å†…å®¹**: |
  ### ç¯å¢ƒå˜é‡ (Environment Variables)
  è¿™æ˜¯æ“ä½œç³»ç»Ÿå±‚é¢çš„ä¸€ç§â€œä¾¿ç­¾æ¡â€ã€‚
  æˆ‘ä»¬æŠŠå¯†ç å†™åœ¨æ“ä½œç³»ç»Ÿçš„è®¾ç½®é‡Œï¼Œè€Œä¸æ˜¯å†™åœ¨ä»£ç æ–‡ä»¶é‡Œã€‚
  ä»£ç è¿è¡Œæ—¶ï¼Œä¼šå»é—®æ“ä½œç³»ç»Ÿï¼šâ€œé‚£ä¸ªå« API_KEY çš„å¯†ç æ˜¯å¤šå°‘ï¼Ÿâ€
  è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œä»£ç æ–‡ä»¶å¯ä»¥å®‰å…¨åœ°åˆ†äº«ç»™åˆ«äººï¼Œè€Œä¸ä¼šæ³„éœ²ä½ çš„ç§äººå¯†ç ã€‚
-->

---

## **6. æ‰§è¡Œé›†æˆæ–¹æ¡ˆ**
### **Prompt Strategy (Integration)**
<div class="columns" style="font-size:0.8em">
<div>


ç°åœ¨æˆ‘ä»¬éœ€è¦æŠŠç¬¬ä¸€æ£’ (Florence-2) å’Œç¬¬äºŒæ£’ (Translation) ç²˜åˆèµ·æ¥ã€‚
è¯·æŒ‡æŒ¥ AI ï¼š
> "**æˆ‘ç°æœ‰çš„ä»£ç  (`lesson25_mobile_demo.py`) åªèƒ½ç”Ÿæˆè‹±æ–‡æè¿°ã€‚**
> **è¯·å¸®æˆ‘ä¿®æ”¹å®ƒ:**
> 1. å¼•å…¥ `openai` åº“ã€‚
> 2. å¢åŠ ä¸€ä¸ª `translate_text(text)` å‡½æ•°ï¼Œè°ƒç”¨ SiliconFlow APIã€‚
> 3. åœ¨ `upload_image` å‡½æ•°ä¸­ï¼Œæ‹¿åˆ° Florence-2 çš„ç»“æœåï¼Œç«‹å³è°ƒç”¨ç¿»è¯‘å‡½æ•°ã€‚
> 4. API è¿”å›çš„ JSONä¸­ `label` å­—æ®µéœ€è¦åŒ…å«ä¸­è‹±åŒè¯­ã€‚"

</div>
<div>

<div class="tip">

**ä¸ºä»€ä¹ˆè¿™ä¹ˆé—®ï¼Ÿ**
*   **æä¾›ä¸Šä¸‹æ–‡**: å‘Šè¯‰ AI ä½ æ‰‹é‡Œå·²ç»æœ‰ä»€ä¹ˆ (Base Code)ã€‚
*   **æ˜ç¡®ç›®æ ‡**: å‘Šè¯‰ AI å…·ä½“çš„ä¿®æ”¹ç‚¹ (Add Function, Modify Logic)ã€‚
*   **æŒ‡å®šæ ¼å¼**: å‘Šè¯‰ AI æœŸæœ›çš„è¾“å‡ºæ ¼å¼ (Bilingual)ã€‚

</div>

</div>
</div>

<!--
- **ç±»å‹**: æ ·å¼æ›¿æ¢
- **ç‰ˆæœ¬**: [handout, teacher]
- **æŸ¥æ‰¾**: |
    <div>
- **æ›¿æ¢**: |
    <div class="styled-div" style="font-size: 0.6em;">
-->

<!--
- **ç±»å‹**: æ ·å¼æ›¿æ¢
- **ç‰ˆæœ¬**: [handout, teacher]
- **æŸ¥æ‰¾**: |
    <div class="tip">
- **æ›¿æ¢**: |
    <div class="tip" style="font-size: 0.6em;">
-->

<!--
- **ç±»å‹**: é€å­—ç¨¿
- **å†…å®¹**: |
  (2åˆ†é’Ÿ) è¿™ä¸€æ­¥æ˜¯å…³é”®ã€‚æˆ‘ä»¬è¦è®© AI å¸®æˆ‘ä»¬åˆå¹¶ä»£ç ã€‚
  æ‰“å¼€ä½ ä¸ŠèŠ‚è¯¾å†™çš„ `lesson25_mobile_demo.py`ã€‚
  ç„¶åæŠŠ Prompt å‘ç»™ AIã€‚
  æ³¨æ„æˆ‘æ˜¯æ€ä¹ˆæé—®çš„ï¼š
  â€œæˆ‘ç°æœ‰çš„ä»£ç æ˜¯...è¯·å¸®æˆ‘ä¿®æ”¹...â€
  è¿™ç§åŸºäº**ç°æœ‰ä»£ç  (Context)** çš„æé—®æ–¹å¼ï¼Œèƒ½è®© AI ç”Ÿæˆçš„ç»“æœç›´æ¥å¯ç”¨ï¼Œä¸éœ€è¦ä½ å†å»æ‰‹åŠ¨æ‹¼è´´ã€‚
-->

<!--
- **ç±»å‹**: æ•™å­¦è®¾è®¡
- **å†…å®¹**: |
  ### æ•™å­¦æ—¶é—´: 2åˆ†é’Ÿ
  ### ç¯èŠ‚: ä»£ç é‡æ„ (Refactoring)
  **Context Awareness**: æ•™å¯¼å­¦å‘˜åœ¨ Prompt ä¸­æä¾›ä¸Šä¸‹æ–‡ï¼ˆç°æœ‰ä»£ç ï¼‰ï¼Œè¿™æ˜¯è·å¾—é«˜è´¨é‡ä»£ç ä¿®æ”¹å»ºè®®çš„å…³é”®ã€‚
-->

<!--
- **ç±»å‹**: è§£é‡Š
- **å†…å®¹**: |
  ### ä¸ºä»€ä¹ˆè¦å•ç‹¬æµ‹è¯•ï¼Ÿ
  æ–°æ‰‹å¸¸çŠ¯çš„é”™è¯¯æ˜¯å†™å®Œå‡ ç™¾è¡Œä»£ç å†è¿è¡Œï¼Œç»“æœæŠ¥é”™äº†ä¸çŸ¥é“æ˜¯å“ªé‡Œçš„é—®é¢˜ã€‚
  **æ¨¡å—åŒ–æµ‹è¯•**ï¼ˆå…ˆæµ‹ç¿»è¯‘ï¼Œå†æµ‹è§†è§‰ï¼Œæœ€åæµ‹æ‹¼è£…ï¼‰æ˜¯è½¯ä»¶å·¥ç¨‹çš„é»„é‡‘æ³•åˆ™ã€‚
  è¿™å°±åƒé€ æ±½è½¦ï¼Œå…ˆæŠŠå‘åŠ¨æœºç‚¹ç«è¯•ä¸€ä¸‹ï¼Œç¡®è®¤èƒ½è½¬ï¼Œå†æŠŠå®ƒè£…è¿›è½¦èº«é‡Œã€‚
-->

---

## **7. ä»£ç è§£æ: AI Vison Translator**
**ä»»åŠ¡æ¸…å•**:
<div class="columns ratio-4-6">
<div>


1.  **æ‹†åˆ†**: å°†åŸæ¥çš„å•ä¸€æ¥å£æ‹†åˆ†ä¸ºè§†è§‰ä¸ç¿»è¯‘ä¸¤ä¸ªç‹¬ç«‹æœåŠ¡ã€‚
2.  **è§†è§‰æ¥å£**: `/upload` åªè´Ÿè´£â€œçœ‹â€ï¼Œè™½ç„¶æ…¢ä½†**å…è´¹ä¸”éšç§** (è¿è¡Œåœ¨æœ¬åœ°)ã€‚
3.  **ç¿»è¯‘æ¥å£**: `/translate` åªè´Ÿè´£â€œæƒ³â€ï¼Œè™½ç„¶è¦èŠ±é’±ä½†**æ™ºèƒ½** (è¿è¡Œåœ¨äº‘ç«¯)ã€‚

</div>
<div>

```python
# 1. è§†è§‰æ¥å£ (æœ¬åœ°/å…è´¹)
@app.post("/upload")
async def upload_image(file: UploadFile):
    # Florence-2 ...
    return {"caption_en": "A tree..."}

# 2. ç¿»è¯‘æ¥å£ (äº‘ç«¯/æ™ºèƒ½)
@app.post("/translate")
async def translate_text(request: TranslationRequest):
    # DeepSeek-V3.2 ...
    zh = call_cloud_api(request.text)
    return {"caption_zh": zh}
```

</div>
</div>

<!--
- **ç±»å‹**: é€å­—ç¨¿
- **å†…å®¹**: |
  (3åˆ†é’Ÿ) AI å¯èƒ½ä¼šç»™ä½ ç”Ÿæˆä¸€ä¸ªå¤§å‡½æ•°ï¼Œä½†æ›´ä¼˜é›…çš„è®¾è®¡æ˜¯æ‹†åˆ†æˆä¸¤ä¸ªæ¥å£ã€‚
  ä¸ºä»€ä¹ˆï¼Ÿ
  æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœç”¨æˆ·è§‰å¾—ç¿»è¯‘å¾—ä¸å¥½ï¼Œæƒ³æ¢ä¸ªè¯´æ³•ã€‚
  å¦‚æœåˆåœ¨ä¸€èµ·ï¼Œç”¨æˆ·å¾—é‡æ–°ä¸Šä¼ å›¾ç‰‡ã€é‡æ–°è¯†åˆ«ï¼ˆå¾ˆæ…¢ï¼‰ï¼Œæ‰èƒ½å¾—åˆ°æ–°ç¿»è¯‘ã€‚
  å¦‚æœåˆ†å¼€ï¼š
  1. `/upload`: ä¼ å›¾ -> å¾—åˆ°è‹±æ–‡ (æœ¬åœ°è·‘ï¼Œä¸è¦é’±)ã€‚
  2. `/translate`: å‘é€è‹±æ–‡ -> å¾—åˆ°ä¸­æ–‡ (äº‘ç«¯è·‘ï¼Œæå¿«)ã€‚
  ç”¨æˆ·å¯ä»¥å¯¹åŒä¸€æ®µè‹±æ–‡åå¤è¯·æ±‚ç¿»è¯‘ï¼Œè€Œä¸éœ€è¦é‡å¤è¯†åˆ«å›¾ç‰‡ã€‚è¿™å°±æ˜¯æ¶æ„è®¾è®¡çš„**çµæ´»æ€§**ã€‚
-->

<!--
- **ç±»å‹**: æ•™å­¦è®¾è®¡
- **å†…å®¹**: |
  ### æ•™å­¦æ—¶é—´: 3åˆ†é’Ÿ
  ### ç¯èŠ‚: æ¶æ„è®¾è®¡ (Architecture)
  **è§£è€¦ (Decoupling)**: è§£é‡Šå°†é‡è®¡ç®—ä»»åŠ¡ï¼ˆè§†è§‰ï¼‰å’Œè½»è®¡ç®—ä»»åŠ¡ï¼ˆç¿»è¯‘ï¼‰åˆ†ç¦»çš„å¥½å¤„ã€‚
  å¼•å¯¼å­¦å‘˜æ€è€ƒç”¨æˆ·ä½“éªŒå’Œè®¡ç®—æˆæœ¬ã€‚
-->

<!--
- **ç±»å‹**: è§£é‡Š
- **å†…å®¹**: |
  ### æ¥å£æ‹†åˆ†çš„æ„ä¹‰
  åœ¨çœŸå®çš„ App å¼€å‘ä¸­ï¼Œç½‘ç»œç¯å¢ƒæ˜¯ä¸ç¨³å®šçš„ã€‚
  ä¸Šä¼ å›¾ç‰‡ï¼ˆå¤§æ–‡ä»¶ï¼‰å¾ˆå®¹æ˜“å¤±è´¥ã€‚
  å¦‚æœæŠŠæ‰€æœ‰åŠŸèƒ½æ†ç»‘åœ¨ä¸€ä¸ªæ¥å£é‡Œï¼Œä¸€æ—¦æœ€åä¸€æ­¥ç¿»è¯‘è¶…æ—¶ï¼Œå‰é¢çš„å›¾ç‰‡ä¸Šä¼ ä¹Ÿç™½è´¹äº†ã€‚
  æ‹†åˆ†åï¼Œæ¯ä¸€æ­¥éƒ½æ˜¯ç‹¬ç«‹çš„å­˜æ¡£ç‚¹ï¼Œç¨‹åºæ›´å¥å£®ã€‚
-->

---

## **8. å†æ¬¡è¿­ä»£: å¼•å…¥è¯­éŸ³åˆæˆ (TTS)**

<div class="columns">
<div style="font-size:0.9em">

### **Prompt Strategy (Iteration)**
ç°åœ¨æˆ‘ä»¬å·²ç»æœ‰äº†ä¸­æ–‡ç¿»è¯‘ï¼Œæœ€åä¸€æ­¥æ˜¯æŠŠå®ƒå˜æˆè¯­éŸ³ã€‚è¯·å‘ AI æé—®ï¼š
> "**åœ¨ç°æœ‰çš„ `lesson26_ai_vision_translator.py` åŸºç¡€ä¸Š:**
> 1. è¯·å¼•å…¥ `CosyVoice2-0.5B` æ¨¡å‹ (SiliconFlow API)ã€‚
> 2. å¢åŠ ä¸€ä¸ª `/speak` æ¥å£ï¼Œæ¥æ”¶æ–‡æœ¬ï¼Œè¿”å› MP3 éŸ³é¢‘æµã€‚
> 3. æ›´æ–° `lesson26.html`ï¼Œåœ¨æ˜¾ç¤ºä¸­æ–‡åè‡ªåŠ¨æ’­æ”¾éŸ³é¢‘ã€‚"

</div>
<div>

<div class="tip" style="font-size:0.8em">

**è¿­ä»£æŠ€å·§**:
*   **å¢é‡å¼€å‘**: ä¸è¦ä»å¤´é‡å†™ï¼Œè€Œæ˜¯åœ¨ç°æœ‰ä»£ç ä¸Š "Add functionality"ã€‚
*   **æŒ‡å®šæ¨¡å‹**: æ˜ç¡®æŒ‡å®šä½¿ç”¨ `CosyVoice2` (æ”¯æŒæ–¹è¨€ã€æƒ…æ„Ÿæ§åˆ¶å’ŒéŸ³è‰²è‡ªå®šä¹‰)ã€‚
*   **å‰ç«¯è”åŠ¨**: æé†’ AI è®°å¾—æ›´æ–°å‰ç«¯é€»è¾‘ (Autoplay)ã€‚

</div>

<div class="insight" style="font-size:0.8em">

**é«˜æ‰‹æŒ‘æˆ˜ (Optional)**:
å¦‚æœæ˜¯é…ç½®è¾ƒé«˜çš„ç”µè„‘ (NVIDIA GPU)ï¼Œå¯ä»¥å°è¯•æœ¬åœ°éƒ¨ç½² **Fun-CosyVoice 3.0** (2025å¹´12æœˆå‘å¸ƒ)ã€‚
å®ƒæ˜¯ç›®å‰å¼€æºç•Œæœ€å¼ºçš„è¯­éŸ³æ¨¡å‹ï¼ŒéŸ³è´¨å’Œæƒ…æ„Ÿè¡¨ç°åŠ›ç”šè‡³è¶…è¿‡äº‘ç«¯ç‰ˆæœ¬ã€‚

</div>

</div>
</div>

<!--
- **ç±»å‹**: æ ·å¼æ›¿æ¢
- **ç‰ˆæœ¬**: [handout, teacher]
- **æŸ¥æ‰¾**: |
    <div style="font-size:0.9em">
- **æ›¿æ¢**: |
    <div style="font-size:0.7em;">
-->

<!--
- **ç±»å‹**: æ ·å¼æ›¿æ¢
- **ç‰ˆæœ¬**: [handout, teacher]
- **æŸ¥æ‰¾**: |
    <div class="tip" style="font-size:0.8em">
- **æ›¿æ¢**: |
    <div class="tip" style="font-size: 0.6em;">
-->

<!--
- **ç±»å‹**: æ ·å¼æ›¿æ¢
- **ç‰ˆæœ¬**: [handout, teacher]
- **æŸ¥æ‰¾**: |
    <div class="insight" style="font-size:0.8em">
- **æ›¿æ¢**: |
    <div class="insight" style="font-size: 0.6em;">
-->

<!--
- **ç±»å‹**: é€å­—ç¨¿
- **å†…å®¹**: |
  (2åˆ†é’Ÿ) æˆ‘ä»¬å†åŠ ä¸€å—ç§¯æœ¨ï¼šè¯­éŸ³åˆæˆ (TTS)ã€‚
  æˆ‘ä»¬è¦è®©è¿™ä¸ªåº”ç”¨ä¸ä»…èƒ½çœ‹ã€èƒ½å†™ï¼Œè¿˜èƒ½è¯´ã€‚
  æˆ‘ä»¬é€‰ç”¨ `CosyVoice2` æ¨¡å‹ï¼Œè¿™æ˜¯é˜¿é‡Œå‡ºçš„ï¼Œå£°éŸ³éå¸¸è‡ªç„¶ï¼Œä¸åƒä¼ ç»Ÿçš„æœºå™¨äººéŸ³ã€‚
  ç»§ç»­å‘ AI æé—®ï¼Œè¦æ±‚åœ¨ç°æœ‰ä»£ç ä¸Šå¢åŠ  `/speak` æ¥å£ã€‚
  æ³¨æ„ï¼Œè¿™æ¬¡æˆ‘ä»¬è¦å¤„ç†çš„æ˜¯**éŸ³é¢‘æµ (Stream)**ï¼Œä¸æ˜¯æ–‡æœ¬ã€‚
-->

<!--
- **ç±»å‹**: æ•™å­¦è®¾è®¡
- **å†…å®¹**: |
  ### æ•™å­¦æ—¶é—´: 2åˆ†é’Ÿ
  ### ç¯èŠ‚: è¿­ä»£å¼€å‘ (Iterative Development)
  **Scaffolding**: å±•ç¤ºè½¯ä»¶æ˜¯å¦‚ä½•ä» V1.0 (çœ‹å›¾) -> V1.1 (ç¿»è¯‘) -> V1.2 (è¯­éŸ³) ä¸€æ­¥æ­¥ç”Ÿé•¿å‡ºæ¥çš„ã€‚
-->

<!--
- **ç±»å‹**: è§£é‡Š
- **å†…å®¹**: |
  ### è¯­éŸ³åˆæˆ (TTS - Text to Speech)
  è¿™æ˜¯è®©æœºå™¨â€œå¼€å£è¯´è¯â€çš„æŠ€æœ¯ã€‚
  æ—©æœŸçš„ TTS å¬èµ·æ¥åƒæœºå™¨äººï¼ˆå•è°ƒã€æ— æ„Ÿæƒ…ï¼‰ã€‚
  ç°åœ¨çš„ TTSï¼ˆå¦‚ CosyVoiceï¼‰åˆ©ç”¨å¤§æ¨¡å‹æŠ€æœ¯ï¼Œèƒ½ç†è§£æ–‡æœ¬çš„æƒ…æ„Ÿè‰²å½©ï¼Œç”šè‡³å¯ä»¥æ¨¡ä»¿ç‰¹å®šçš„éŸ³è‰²ã€‚
  å¼•å…¥ TTS æ˜¯å®ç°â€œæ— éšœç¢è®¿é—®â€çš„é‡è¦ä¸€æ­¥ã€‚
-->

---

## **9. ç»ˆæå½¢æ€: çœ‹å›¾è¯´è¯ (TTS)**

<div class="columns">
<div>

**ä»£ç è§£æ**:
1.  **å¼•å…¥**: CosyVoice2 (é˜¿é‡Œ/SiliconFlow)ã€‚
2.  **æµå¼å“åº”**: ä½¿ç”¨ `StreamingResponse` å®ç°è¾¹ç”Ÿæˆè¾¹æ’­æ”¾ (é™ä½å»¶è¿Ÿ)ã€‚
3.  **é—­ç¯**: `Vision` -> `Text` -> `Speech`ã€‚

```python
# 3. è¯­éŸ³æ¥å£ (è®©å®ƒè¯´è¯!)
@app.post("/speak")
async def speak(request: TTSRequest):
    # CosyVoice2-0.5B (æ”¯æŒæƒ…æ„Ÿ)
    client = OpenAI(base_url=SILICONFLOW_BASE_URL, ...)
    # è¿”å›éŸ³é¢‘æµ
    return StreamingResponse(
        generate_audio(request.text), 
        media_type="audio/mpeg"
    )
```
</div>
<div>

![1766160768363](image/module7_lesson2.master/1766160768363.png)

</div>
</div>

<!--
- **ç±»å‹**: é€å­—ç¨¿
- **å†…å®¹**: |
  (3åˆ†é’Ÿ) çœ‹ä¸€ä¸‹è¿™æ®µä»£ç ã€‚
  è¿™é‡Œæœ‰ä¸ªæ–°æ¦‚å¿µï¼š`StreamingResponse`ã€‚
  éŸ³é¢‘æ–‡ä»¶é€šå¸¸æ¯”è¾ƒå¤§ï¼Œå¦‚æœç­‰ç”Ÿæˆå®Œäº†å†å‘ç»™ç”¨æˆ·ï¼Œç”¨æˆ·è¦ç­‰å¥½å‡ ç§’ã€‚
  æµå¼å“åº”å°±åƒæµæ°´ä¸€æ ·ï¼Œç”Ÿæˆä¸€ç‚¹å‘ä¸€ç‚¹ï¼Œç”¨æˆ·å¯ä»¥ä¸€è¾¹ä¸‹è½½ä¸€è¾¹å¬ï¼Œä½“éªŒéå¸¸ä¸æ»‘ã€‚
  ç°åœ¨ï¼Œè¿è¡Œä½ çš„ç»ˆæä»£ç ã€‚
  æ‰“å¼€ç½‘é¡µï¼Œä¼ ä¸€å¼ ç…§ç‰‡ã€‚
  é—­ä¸Šçœ¼ç›ï¼Œå¬ã€‚ä½ çš„ç”µè„‘æ­£åœ¨ç”¨æµåˆ©çš„ä¸­æ–‡å‘Šè¯‰ä½ ï¼Œå®ƒçœ‹åˆ°äº†ä»€ä¹ˆã€‚
-->

<!--
- **ç±»å‹**: æ•™å­¦è®¾è®¡
- **å†…å®¹**: |
  ### æ•™å­¦æ—¶é—´: 3åˆ†é’Ÿ
  ### ç¯èŠ‚: ç»¼åˆå®è·µ (Integration Lab)
  **Aha Moment**: å½“å›¾åƒè¯†åˆ«ç»“æœè¢«æœ—è¯»å‡ºæ¥çš„é‚£ä¸€åˆ»ï¼Œå¤šæ¨¡æ€é—­ç¯å®Œæˆã€‚
  å¼•å¯¼å­¦å‘˜ä½“éªŒâ€œè§†éšœè¾…åŠ©â€åœºæ™¯ï¼Œæ„Ÿå—æŠ€æœ¯çš„æ¸©åº¦ã€‚
-->

<!--
- **ç±»å‹**: è§£é‡Š
- **å†…å®¹**: |
  ### æµå¼å¤„ç† (Streaming)
  å°±åƒçœ‹åœ¨çº¿è§†é¢‘ä¸€æ ·ã€‚
  ä½ ä¸éœ€è¦æŠŠæ•´éƒ¨ç”µå½±ä¸‹è½½å®Œæ‰èƒ½çœ‹ï¼Œè€Œæ˜¯ç¼“å†²ä¸€ç‚¹çœ‹ä¸€ç‚¹ã€‚
  å¯¹äºè¯­éŸ³ç”Ÿæˆï¼Œæµå¼å¤„ç†èƒ½è®©é¦–å­—å»¶è¿Ÿ (TTFB) é™åˆ°æ¯«ç§’çº§ï¼Œå®ç°å³æ—¶å¯¹è¯çš„æ„Ÿè§‰ã€‚
-->

---

## **è¯¾ç¨‹å°ç»“**

<div class="columns" style="font-size:0.8em">
<div>

### **å…³é”®ç‚¹**
1.  **Pipeline æ€ç»´**: å¤æ‚é—®é¢˜æ‹†è§£ï¼Œè®©ä¸“ä¸šçš„æ¨¡å‹åšä¸“ä¸šçš„äº‹ã€‚
2.  **ç«¯äº‘ç»“åˆ**: æœ¬åœ°æ¨¡å‹ (Florence) è´Ÿè´£éšç§/é‡èµ„äº§ä»»åŠ¡ï¼Œäº‘ç«¯æ¨¡å‹ (API) è´Ÿè´£é«˜æ™ºå•†/æ–‡æœ¬ä»»åŠ¡ã€‚
3.  **æ— é™å¯èƒ½**: ä¸€æ—¦å­¦ä¼šäº†ä¸²è”ï¼Œä½ å°±å¯ä»¥åƒæ­ç§¯æœ¨ä¸€æ ·åˆ›é€ æ— é™çš„åº”ç”¨ã€‚

### **ä¸‹èŠ‚é¢„å‘Š**
æœ‰äº†æƒ³æ³•ï¼Œå¦‚ä½•å¿«é€ŸæŠŠå®ƒä»¬å˜æˆç°å®ï¼Ÿ
æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¿›è¡Œ **Ideation Workshop (åˆ›æ„å·¥åŠ)**ï¼Œå°è¯•ç”¨â€œå·¥ç¨‹æ€ç»´â€æ¥è§£æ„æ•™å­¦åœºæ™¯ä¸­çš„çœŸç—›ç‚¹ã€‚

</div>
<div class="align-middle">

![1766161386096](image/module7_lesson2.master/1766161386096.png)

</div>
</div>

<!--
- **ç±»å‹**: æ ·å¼æ›¿æ¢
- **ç‰ˆæœ¬**: [handout, teacher]
- **æŸ¥æ‰¾**: |
    <div>
- **æ›¿æ¢**: |
    <div class="styled-div" style="font-size:0.7em;">
-->

<!--
- **ç±»å‹**: é€å­—ç¨¿
- **å†…å®¹**: |
  (1åˆ†é’Ÿ) ç¬¬äºŒèŠ‚è¯¾çš„å†…å®¹å°±åˆ°è¿™é‡Œã€‚
  è¿™èŠ‚è¯¾æˆ‘ä»¬ä¸ä»…å†™äº†ä¸€ä¸ªç¿»è¯‘åŠŸèƒ½ï¼Œæ›´é‡è¦çš„æ˜¯æŒæ¡äº†â€œé›†ä¼—æ™ºâ€çš„èƒ½åŠ›ã€‚
  æœ¬åœ°çš„ Florence å°±åƒæ˜¯ä½ çš„çœ¼ç›ï¼Œäº‘ç«¯çš„ DeepSeek å°±åƒæ˜¯ä½ çš„å¤§è„‘ï¼Œè€Œ CosyVoice åˆ™æ˜¯ä½ çš„å˜´å·´ã€‚
  å½“ä½ æŠŠå®ƒä»¬è¿èµ·æ¥çš„æ—¶å€™ï¼Œä½ å°±æ‹¥æœ‰äº†ä¸€ä¸ªå®Œæ•´çš„æ•°å­—ç”Ÿå‘½ä½“ã€‚
  ä¿æŒè¿™ä»½å…´å¥‹ï¼Œç¨äº‹ä¼‘æ¯ï¼Œä¸‹ä¸€èŠ‚è¯¾æˆ‘ä»¬è¦å¼€å§‹æåˆ›æ„äº†ï¼
-->

<!--
- **ç±»å‹**: æ•™å­¦è®¾è®¡
- **å†…å®¹**: |
  ### æ•™å­¦æ—¶é—´: 1åˆ†é’Ÿ
  ### ç¯èŠ‚: æ€»ç»“ (Summary)
  **å‡å**: å°†æŠ€æœ¯ç»„ä»¶çš„ä¸²è”å‡åä¸ºâ€œæ•°å­—ç”Ÿå‘½ä½“â€çš„æ„å»ºã€‚
  **é¢„å‘Š**: ä¸ºä¸‹ä¸€èŠ‚ Brainstorming ç¯èŠ‚é¢„çƒ­ã€‚
-->

<!--
- **ç±»å‹**: è§£é‡Š
- **å†…å®¹**: |
  ### ç«¯äº‘ååŒ (Edge-Cloud Collaboration)
  æœ¬èŠ‚è¯¾æ¼”ç¤ºäº†ä¸€ä¸ªå…¸å‹çš„ç«¯äº‘ååŒæ¶æ„ï¼š
  - **ç«¯ (Edge)**: æœ¬åœ° PC è¿è¡Œè§†è§‰æ¨¡å‹ï¼Œä¿æŠ¤éšç§ï¼ˆå›¾ç‰‡ä¸ä¸Šä¼ åˆ°å…¬æœ‰äº‘ AIï¼‰ï¼Œæ— éœ€ç½‘ç»œä¹Ÿèƒ½è¯†åˆ«ã€‚
  - **äº‘ (Cloud)**: è°ƒç”¨äº‘ç«¯å¤§æ¨¡å‹è¿›è¡Œæ·±åŠ å·¥ï¼ˆç¿»è¯‘ã€è¯­éŸ³ï¼‰ï¼Œåˆ©ç”¨äº‘ç«¯å¼ºå¤§çš„ç®—åŠ›ã€‚
  è¿™æ˜¯æœªæ¥ AI åº”ç”¨çš„ä¸»æµæ¶æ„ã€‚
-->
"""
赛道 C: 暖心助教 (Empathy Assistant) - 启动代码
场景: 情感陪伴与无障碍辅助
任务: 让冷冰冰的技术变得有温度。
      (例如: 视障辅助描述、学生情绪气象站、考前心理疏导)

你的任务 (TODO):
1. 修改 SYSTEM_ROLE，打造一个超级暖心的 AI (像是大白 Baymax)。
2. 修改 generate_empathy_reply 函数，针对场景给出最贴心的回应。
"""

from hackathon_utils import ask_ai

# ==============================================================================
# 1. 人设定义 (装修区域)
# ==============================================================================
# TODO: 你希望它是一个知心大姐姐？还是一个心理咨询师？
SYSTEM_ROLE = """
你是一个充满同理心的心理辅导员。
你的语气温柔、坚定，能够敏锐地捕捉到对方的情绪。
请多用鼓励的话语，避免说教。
"""

# ==============================================================================
# 2. 提示词设计 (装修区域)
# ==============================================================================
def generate_empathy_reply(situation_text):
    """
    Args:
        situation_text (str): 描述当下的情况 (如: "小明考砸了，趴在桌子上哭")
    Returns:
        str: AI 的暖心回应
    """
    # TODO: 这里的关键是让 AI "看见" 情绪。
    prompt = f"""
    情况描述: {situation_text}
    
    请针对这个情况，写一段话安慰当事人 (100字以内)。
    要求:
    1. 首先共情 ("我知道你现在...")
    2. 然后给出一点点积极的视角，或者仅仅是陪伴。
    """
    return prompt

# ==============================================================================
# 3. 主程序 (承重墙区域)
# ==============================================================================
def main():
    # 模拟场景输入 (可以是识别出来的表情，也可以是学生写的一段日记)
    # mock_emotion = "Sadness: 85%, Fatigue: 60%" # 如果是看图
    mock_diary = "这次模拟考又没及格，我觉得我真的不是学数学的料，我想放弃了..."
    
    print(f"📥 输入信号: {mock_diary}")
    print("-" * 50)
    print("💓 AI 正在用心感受...")
    
    # 1. 构造 Prompt
    my_prompt = generate_empathy_reply(mock_diary)
    
    # 2. 呼叫云端大脑
    result = ask_ai(my_prompt, system_role=SYSTEM_ROLE)
    
    print("-" * 50)
    print(f"💌 暖心回复:\n{result}")

if __name__ == "__main__":
    main()
